{"version":3,"file":"limbo.js","sources":["../src/fiber.js","../src/helper/utils.js","../src/h.js","../src/helper/heapq.js","../src/core/schedule.js","../src/hooks.js","../src/helper/tools.js","../src/dom.js","../src/core/reconcile.js","../src/index.js"],"sourcesContent":["export let current_fiber = null\nexport const HostFiber = 0\nexport const Hook = 1\n\nexport function createFiber(vnode,op) {\n    return { ...vnode,tag: typeof vnode.type === 'function' ? Hook : HostFiber,effect: op }\n}\n\nexport function getParentElementFiber(fiber) {\n    if(!fiber.parent) return null\n    fiber = fiber.parent\n    while(fiber && fiber.tag === Hook) {\n        fiber = fiber.parent\n    }\n    return fiber\n}\n\nexport function getClosetFiberFromNode(fiber) {\n    const parentFiber = getParentElementFiber(fiber)\n    return parentFiber\n}\n\n\nexport function getNearestSiblingElementFiber(fiber) {\n    const rawFiber = fiber\n    fiber = fiber.parent && fiber.parent.child\n    while(fiber && fiber.sibling) {\n        fiber = fiber.sibling\n    }\n    return rawFiber === fiber ? null : fiber\n}\n\nexport function getCurrentFiber() {\n    return current_fiber\n}\n\nexport function setCurrentFiber(fiber) {\n    current_fiber = fiber\n}\n\n\n","export function remove(a,t) {\n    for(let i = 0;i < a.length;i++) {\n        if(a[i] === t) {\n            a.splice(i,1)\n            return i\n        }\n    }\n    return -1\n}\n\nexport function isPrimitive (value) {\n    return (\n        typeof value === 'string' ||\n        typeof value === 'number' ||\n        // $flow-disable-line\n        typeof value === 'symbol' ||\n        typeof value === 'boolean'\n    )\n}\n\nexport function isArray(t) {\n    return Object.prototype.toString.call(t) === '[object Array]'\n}","import { HostFiber } from './fiber'\nimport { isPrimitive,isArray } from './helper/utils'\n\nconst __LIMBO_COMPONENT = Symbol('vnode')\nexport function h(type,data,...children) {\n    // 兼容ts-loader和babel-jsx-transform的不同\n    if(!data) data = {}\n\n    let { \n        key = null,\n        ref = null,\n        name = null,\n        ...props\n    } = data\n\n    if(name) type.name = name\n    children = normalizeChildren(children)\n\n    if(children.length) props.children = children.length === 1 ? children[0] : children\n    if(children.type === 'text') props.children = children\n\n    return {\n        __type: __LIMBO_COMPONENT,\n        key,\n        ref,\n        props,\n        type\n    }\n}\n\nexport function cloneElement(node,props) {\n    const newProps = Object.assign({},node.props,props)\n    return {\n        ...node,\n        props: newProps\n    }\n}\n\nexport function createTextNode(text) {\n    return {\n        type: 'text',\n        value: text,\n        props: {},\n        tag: HostFiber\n    }\n}\n\n// 若使用 jsx-babel 无需下面两个函数\nfunction normalizeChildren(c) {\n    if(isPrimitive(c)) return createTextNode(c)\n    else if(isArray(c)) {\n        return flattenArray(c).map(sc => {\n            return normalizeChildren(sc)\n        })\n    }\n    else return c || []\n}\n\nfunction flattenArray(t) {\n    return Array.prototype.concat.apply([],t)\n}\n\n\n\n","let heapq = {}\n\nlet cmplt = function(x, y) {\n    return x < y\n}\n\nheapq.push = function(heap, item, cmp) {\n    heap.push(item)\n    siftdown(heap, 0, heap.length - 1, cmp || cmplt)\n}\n\nheapq.pop = function(heap, cmp) {\n    if (heap.length > 0) {\n        let last = heap.pop()\n\n        if (heap.length > 0) {\n            let head = heap[0]\n            heap[0] = last\n            siftup(heap, 0, cmp || cmplt)\n            return head\n        } else {\n            return last\n        }\n    }\n}\n\nheapq.top = function(heap) {\n    if (heap.length !== 0)\n        return heap[0]\n}\n\nheapq.pushpop = function(heap, item, cmp) {\n    cmp = cmp || cmplt\n\n    if (heap.length > 0 && cmp(heap[0], item)) {\n        let temp = heap[0]\n        heap[0] = item\n        item = temp\n        siftup(heap, 0, cmp)\n    }\n    return item\n}\n\nheapq.heapify = function(arr, cmp) {\n    cmp = cmp || cmplt\n\n    for (let idx = Math.floor(arr.length / 2) - 1;\n        idx >= 0; --idx)\n        siftup(arr, idx, cmp)\n    return arr\n}\n\nheapq.heapsort = function(arr, cmp) {\n    let heap = []\n\n    for (let i = 0; i < arr.length; ++i)\n        heapq.push(heap, arr[i], cmp)\n\n    let arr_ = []\n\n    while (heap.length > 0)\n        arr_.push(heapq.pop(heap, cmp))\n    return arr_\n}\n\nfunction siftdown(heap, startIdx, idx, cmp) {\n    let item = heap[idx]\n\n    while (idx > startIdx) {\n        let parentIdx = (idx - 1) >> 1\n        let parentItem = heap[parentIdx]\n        if (cmp(item, parentItem)) {\n            heap[idx] = parentItem\n            idx = parentIdx\n            continue\n        }\n        break\n    }\n\n    heap[idx] = item\n}\n\nfunction siftup(heap, idx, cmp) {\n    let endIdx = heap.length\n    let startIdx = idx\n    let item = heap[idx]\n\n    let childIdx = idx * 2 + 1\n\n    while (childIdx < endIdx) {\n        let rightIdx = childIdx + 1\n\n        if (rightIdx < endIdx && (!cmp(\n            heap[childIdx], heap[rightIdx]))) {\n            childIdx = rightIdx\n        }\n        heap[idx] = heap[childIdx]\n        idx = childIdx\n        childIdx =  idx * 2 + 1\n    }\n\n    heap[idx] = item\n    siftdown(heap, startIdx, idx, cmp)\n}\n\nexport default heapq","import heapq from '../helper/heapq'\n\nlet FRAME_LENGTH = 30\nlet NEXT_FRAME_LENGTH = FRAME_LENGTH\nlet ACTIVE_FRAME_LENGTH = FRAME_LENGTH\n\n// heap\nlet taskQueue = []\nlet currentFrameDeadline = null\nlet currentTask = null\nlet breakSchedule = false\n\nconst getTime = () => performance.now()\n\nexport function scheduleTask(cb) {\n    let startTime = getTime()\n    let timeout = 1000 * 60 * 24\n    let newTask = {\n        cb,\n        startTime,\n        deadline: startTime + timeout,\n    }\n    heapq.push(taskQueue,newTask,cmp)\n\n    currentTask = beginWork\n    planWork()\n}\n\nfunction beginWork(){\n    let currentTask = heapq.top(taskQueue)\n    while(currentTask) {\n        if(currentTask.deadline < getTime() && shouldYield()) break\n        let cb = currentTask.cb\n        const canExecute = currentTask.deadline >= getTime()\n        const isTaskSliceFinish = cb(canExecute)\n        if(isTaskSliceFinish) currentTask.cb = isTaskSliceFinish\n        else heapq.pop(taskQueue)\n\n        currentTask = heapq.top(taskQueue)\n    }\n\n    return !!currentTask\n}   \n\nexport function ensureHighPriorityTaskToQueue(task) {\n    cancelSchedule()\n    heapq.push(taskQueue,task,cmp)\n}\n\nfunction cancelSchedule() {\n    breakSchedule = true\n}\n\nfunction computedTime(rafTime) {\n    const previousFrameDeadline = currentFrameDeadline\n    NEXT_FRAME_LENGTH = rafTime - previousFrameDeadline + ACTIVE_FRAME_LENGTH\n    \n    if(NEXT_FRAME_LENGTH < ACTIVE_FRAME_LENGTH && FRAME_LENGTH < ACTIVE_FRAME_LENGTH) {\n        if(NEXT_FRAME_LENGTH < 8) NEXT_FRAME_LENGTH = 8\n        else ACTIVE_FRAME_LENGTH = NEXT_FRAME_LENGTH > FRAME_LENGTH ? NEXT_FRAME_LENGTH : FRAME_LENGTH\n    } \n    FRAME_LENGTH = NEXT_FRAME_LENGTH\n\n    currentFrameDeadline = rafTime + ACTIVE_FRAME_LENGTH\n}\n\nlet RAFId, RAFTOId\nfunction requestAnimationFrameWithTimeout(cb) {\n    RAFId = requestAnimationFrame((timestamp) => {\n        clearTimeout(RAFTOId)\n        cb(timestamp)\n    })\n    RAFTOId = setTimeout(() => {\n        cancelAnimationFrame(RAFId)\n        cb(getTime())\n    }, FRAME_LENGTH)\n}\nfunction tickWork() {\n    let isTaskNotFinish = currentTask && currentTask()\n    if(isTaskNotFinish) {\n        planWork()\n    } else (currentTask = null)\n}\n\nexport function shouldYield() {\n    if(breakSchedule) {\n        breakSchedule = false\n        return true\n    }\n    return getTime() > currentFrameDeadline    \n}\n\nexport const planWork = (() => {\n    const { port1,port2 } = new MessageChannel()\n    port1.onmessage = tickWork\n    return (cb) => {\n        const work = (timestamp) => {\n            computedTime(timestamp)\n\n            // cb只处理hooks，不执行调度\n            if(cb) cb(timestamp)\n            else port2.postMessage(null) \n        }\n        requestAnimationFrameWithTimeout(work)\n    }\n})()\n\n// 小顶堆\nfunction cmp(task1,task2) {\n    return task1.deadline - task2.deadline\n}","import shallowEqual from 'shallowequal'\nimport { scheduleWorkOnFiber } from './core/reconcile'\nimport { getCurrentFiber } from './fiber'\n\nconst Hook = function() {\n    this.state = null\n    this.next = null\n    this.deps = null\n    this.effect = null\n    this.clear = null\n    this.init = true\n}\n\nexport let getHook = () => getCurrentFiberHook()\n\nexport function useState(initState) {\n    const reducer = (curState,newValue) => {\n        if(typeof newValue != 'function') {\n            return newValue\n        } else {\n            const fn = newValue\n            return fn(curState)\n        }\n    }\n\n    return useReducer(reducer,initState)\n}\n\nexport function useReducer(reducer,initState) {\n    const [hook,fiber] = getHook()\n    const effect = action => {\n        let newState = reducer(hook.state,action)\n        if(!shallowEqual(newState,hook.state)) {\n            hook.state = newState\n            scheduleWorkOnFiber(fiber)\n        }\n    }\n\n    let init = initHook(hook,(hook) => hook.state = initState)\n    return init ? [initState,effect] : [hook.state,effect]\n}\n\nexport function useEffect(fn,deps,isLayout = false) {\n    useMemo(() => {\n        const [hook,fiber] = getHook()\n        const oldDeps = hook.deps\n        if(!shallowEqual(oldDeps,deps)) {\n            hook.deps = deps\n            hook.cb = fn\n            fiber.hooks[isLayout ? 'layout' : 'effect'].push({ effect: fn })\n        }\n    },[])\n}\n\nexport function useAction(fn,deps) {\n    const [hook] = getHook()\n    const oldDeps = hook.deps\n    if(!shallowEqual(oldDeps,deps)) {\n        hook.deps = deps\n        fn()\n    }\n}\n\nexport function useRef(init) {\n    return useMemo(() => ({ current: init }),[])\n}\n\nexport function useMemo(cb,deps) {\n    const [hook] = getHook()\n    if(!initHook(hook,(hook) => {\n        hook.state = cb()\n        hook.deps = deps\n    })) {\n        if(shallowEqual(deps,hook.deps)) return hook.state\n        else return (hook.state = cb())\n    } \n    return hook.state \n}\n\nexport function getCurrentFiberHook() {\n    const currentFiber = getCurrentFiber()\n    let hooks = currentFiber.hooks ? currentFiber.hooks : (currentFiber.hooks = { hookList: new Hook(),effect: [],layout: [] })\n    let beforeHook = hooks.hookList\n    return () => {\n        return [beforeHook.next || (beforeHook.next = new Hook()),currentFiber]\n    }\n}\n\nexport function useContext(context,selector = (v) => v) {\n    // eslint-disable-next-line\n    const [_,forceUpdate] = useReducer(_c => _c + 1,0)\n    const val = useRef(selector(context.value))\n\n    useLayoutEffect(() => {\n        let subFn = (newValue) => {\n            if(selector(newValue) === val.current) return \n            val.current = newValue\n            forceUpdate()\n        } \n        context.add(subFn)\n        return context.deleteSub(subFn)\n    },[])\n\n    return val.current\n}\n\nexport function useLayoutEffect(fn,deps) {\n    useEffect(fn,deps,true)\n}\n\nexport function reComputeHook() {\n    getHook = getCurrentFiberHook()\n}\n\nexport function setInitState(hook) {\n    hook.init = false\n}\n\nexport function initHook(hook,cb) {\n    if(hook.init) {\n        setInitState(hook)\n        cb(hook)\n        hook.init = false\n        return true\n    }\n    return false\n}\n\n","import shallowEqual from 'shallowequal'\n\nexport function SCU(oldProps,newProps) {\n    return shallowEqual(oldProps,newProps)\n}\n\nexport function deleteElement(target) {\n    const parentElementNode = target.parentElementFiber.node\n    parentElementNode.removeChild(target.node)\n}\n\nexport function insertElement(target) {\n    const node = target.node\n    const parentElementFiber = target.parentElementFiber\n    const parentNode = parentElementFiber ? parentElementFiber.node : target.mountDom\n\n    const insertPoint = target.insertPoint ? target.insertPoint : null\n    let lastPoint = insertPoint ? insertPoint.sibling : null\n    if(lastPoint) lastPoint = lastPoint.node\n    if(lastPoint === node) lastPoint = null\n\n    parentNode.insertBefore(node,lastPoint)\n}\n\nexport function cleanRef(fiber) {\n    if(!fiber) return\n    \n    for(const kid of fiber.kids) {\n        const ref = kid.ref\n        setRef(ref,null)\n        cleanRef(kid.kids)\n    }\n}\n\nexport function setRef(ref,dom) {\n    isFn(ref) ? ref(dom) : (ref && (ref.current = dom))\n}\n\nexport function isFn(t) {\n    return typeof t === 'function'\n}\n\nexport function getComponentName(type) {\n    return type.name\n}","import { isFn } from './helper/tools'\n// import { enqueueListenTo } from './events'\n\nexport function updateElement(fiber,shouldExecuteEffect = true) {\n    const { oldProps = {},props: newProps } = fiber\n    const element = fiber.node\n\n    for(const prop in { ...oldProps,...newProps }) {\n        const oldProp = oldProps[prop]\n        const newProp = newProps[prop]\n\n        if(oldProps === newProp || prop === 'children') return\n        if(prop === 'style') {\n            const newStyles = newProp\n            const oldStyles = oldProp\n\n            // 浏览器批量重置属性以优化reflow\n            // 所以这里无需做新旧对比\n            for(let style in Object.assign(oldStyles,newStyles)) {\n                element.style[style] = newStyles[style] || ''\n            } \n        } else if(prop.substring(0,2) == 'on') {\n            if(shouldExecuteEffect) {\n                const registerEventName = prop[2].toLowerCase() + prop.substring(3)\n                if(!newProps[prop]) element.removeEventListener(registerEventName, oldProps[prop])\n                else if(!oldProps[prop]) element.addEventListener(registerEventName, newProps[prop])\n                else if(oldProps[prop] && newProps[prop]) {\n                    if(oldProps[prop] !== newProps[prop]) {\n                        element.removeEventListener(registerEventName, oldProps[prop])\n                        element.addEventListener(registerEventName, newProps[prop])\n                    }\n                }\n                // if(globalThis.eventDev) enqueueListenTo(registerEventName,fiber,newProps[prop])\n                // else element.addEventListener(registerEventName,newProp)\n            }\n        } else if(prop === 'key') { //\n        } else if(newProps[prop] === false || newProps[prop] == null) {\n            element.removeAttribute(prop)\n        } else if(prop === 'ref') { \n            if(typeof newProps[prop] === 'function') newProps[prop](element)\n        } else {\n            element.setAttribute(prop,newProps[prop])\n        } \n\n    }    \n}\n\nexport function setTextContent(fiber,value) {\n    fiber.node.textContent = value\n}\n\nexport function mountElement(fiber) {\n    if(isFn(fiber.type)) throw new Error('vnode is not Element Type')\n    const dom = \n            fiber.type === 'text' \n                ? document.createTextNode(fiber.value)\n                : document.createElement(fiber.type)\n    \n    fiber.node = dom\n    dom._limbo__fiber = fiber\n    updateElement(fiber,true)\n    return dom\n}\n\n\n","import { scheduleTask,shouldYield,planWork } from './schedule'\nimport { createFiber,getParentElementFiber,HostFiber,setCurrentFiber,Hook } from '../fiber'\nimport { reComputeHook } from '../hooks'\nexport { getCurrentFiber } from '../fiber'\nimport { SCU,insertElement,deleteElement,isFn,setRef } from '../helper/tools'\nimport { mountElement, updateElement, setTextContent } from '../dom'\n\nconst DELETE  = 0b00000001\nconst UPDATE  = 0b00000010\n// TODO: REPLACE flag 参考react reconcileChildArray placeChild函数\n// TODO: Array diff LIS优化\nconst REPLACE = 0b00000100 // eslint-disable-line\nconst ADD     = 0b00001000\nconst NOWORK  = 0b00010000 // eslint-disable-line\n\nfunction createFiberRoot(vnode,mountDom,done) {\n    // return new FiberRoot(node,props,done)\n    return {\n        node: mountDom,\n        done,\n        props: {\n            children: vnode\n        },\n        tag: HostFiber,\n        RootFiber: true\n    }\n}\n\nlet updateQueue = []\nlet commitQueue = []\nlet prevCommit\nlet current_execute_work_unit\n\nexport function render(vnode,mountDom,cb) {\n    const fiberRoot = createFiberRoot(vnode,mountDom,cb)\n    scheduleWorkOnFiber(fiberRoot)\n}\n\nexport function scheduleWorkOnFiber(fiber) {\n    // 避免重复加入更新队列\n    !fiber.dirty && updateQueue.push(fiber) && (fiber.dirty = true)\n    scheduleTask(reconcileWork)\n}\n\nfunction reconcileWork(dopast) {\n    if(!current_execute_work_unit) current_execute_work_unit = updateQueue.shift()\n\n    // fiber level task\n    while(current_execute_work_unit && (!shouldYield() || dopast)) {\n        try {\n            // async diff \n            // 类组件生命周期可能出现多次调用,慎用\n            current_execute_work_unit = reconcile(current_execute_work_unit)\n        } catch(err) {\n            // TODO: Error Boundary\n            // eslint-disable-next-line\n            console.log(err)\n            break\n        }\n    }\n\n    // 当前时间片用完,但任务还未执行完\n    // 把任务继续加入调度,等待恢复\n    if(current_execute_work_unit && !dopast) {\n        // 等待恢复\n        return reconcileWork.bind(null)\n    }\n    // TODO: commit \n    if(prevCommit) {\n        const fiberRoot = prevCommit\n        flushCommitQueue(fiberRoot)\n    }\n    return null\n}\n\nfunction reconcile(currentFiber) {\n    currentFiber.parentElementFiber = getParentElementFiber(currentFiber)\n    currentFiber.tag == HostFiber ? updateHost(currentFiber) : updateFiber(currentFiber)\n    commitQueue.push(currentFiber)\n    if(currentFiber.child) return currentFiber.child\n    \n    while(currentFiber) {\n        if(currentFiber.dirty === false && !prevCommit) {\n            prevCommit = currentFiber\n            return null\n        }\n        if(currentFiber.sibling) return currentFiber.sibling\n        currentFiber = currentFiber.parent\n    }\n}\n\nfunction reconcileChildren(fiber,children) {\n    if(!children) return\n    const oldFibers = fiber.kids || {}\n    const newFibers = (fiber.kids = buildKeyMap(children))\n\n    const reused = {}\n    for(let child in oldFibers) {\n        const oldChild = oldFibers[child]\n        const newChild = newFibers[child]\n\n        // avoid key same but different element\n        if(oldChild && newChild && oldChild.type === newChild.type) {\n            reused[child] = oldChild\n        } else {\n            oldFibers.effect = DELETE\n            commitQueue.push(oldChild)\n        }  \n    }\n\n    let prevFiber = null\n    for(let child in newFibers) {\n        let newChild = newFibers[child]\n        let reUseFiber = reused[child]\n\n        if(reUseFiber) {\n            if(!sameVnode(reUseFiber,newChild)) {\n                newChild.effect = REPLACE\n            } else {\n                newChild.effect = UPDATE\n                newChild = { ...reUseFiber,...newChild }\n                newChild.oldProps = reUseFiber.props \n                if(reUseFiber.type === 'text') {\n                    if(reUseFiber.value !== newChild.value) {\n                        if(newChild.value == null) newChild.value = ''\n                        setTextContent(reUseFiber,newChild.value)\n                    }\n                    newChild.effect = NOWORK\n                }\n            }\n        } else {\n            newChild = createFiber(newChild,ADD)\n        }\n\n        newFibers[child] = newChild\n        newChild.parent = fiber\n\n        if(prevFiber) {\n            prevFiber.sibling = newChild\n        } else {\n            // 首个子节点为child\n            fiber.child = newChild\n        }\n        prevFiber = newChild\n    }\n    if(prevFiber) prevFiber.sibling = null\n\n    // 只有fiberRoot有bool值，其他为null\n    fiber.dirty = fiber.dirty ? false : null\n}\n\n// 更新Fiber节点\nfunction updateFiber(fiber) {\n    const oldProps = fiber.oldProps\n    const newProps = fiber.props\n    \n    // 我们内置SCU以避免hooks的无效re-render开销\n    if(!fiber.dirty && SCU(oldProps,newProps)) {\n        return \n    }\n\n    setCurrentFiber(fiber)\n    // 重计算当前fiber的hook链表\n    reComputeHook()\n\n    const build = fiber.type\n    const children = build(newProps)\n    if(children.type === 'text') {\n        //\n    }\n\n    reconcileChildren(fiber,children)\n}\n\n// 更新真实的Dom节点\n// HostFiber 绝对不可能有vnode fiber作为子节点\n// 所以这里无需加速更新\nfunction updateHost(elementFiber) {\n    if(!elementFiber.node) {\n        mountElement(elementFiber)\n    }\n\n    // 插入位置是第一个dom父节点的最后\n    // 也就是insertBefore\n    let parentElementFiber = elementFiber.parentElementFiber || {}\n    elementFiber.insertPoint = parentElementFiber.last || null\n    parentElementFiber.last = elementFiber\n    elementFiber.node.last = null \n\n    reconcileChildren(elementFiber,elementFiber.props.children)\n}\n\n// phase2 commit \nfunction flushCommitQueue(fiberRoot) {\n    commitQueue.forEach((work) => commit(work))\n    fiberRoot.done && fiberRoot.done()\n    resetOldCommit()\n\n    function resetOldCommit() {\n        commitQueue = []\n        prevCommit = null\n        setCurrentFiber(null)\n    }\n}\n\nfunction commit(fiber) {\n    const { effect,hooks,ref } = fiber\n\n    if(effect === NOWORK) {\n        //\n    } else if(effect === DELETE) {\n        deleteElement(fiber)\n    } else if(fiber.tag === Hook) {\n        if(hooks) {\n            hooks.layout.forEach(clearPrevEffect)\n            hooks.layout.forEach(callEffect)\n            planWork(() => {\n                hooks.effect.forEach(clearPrevEffect)\n                hooks.effect.forEach(callEffect)\n            })\n        } \n    } else if(effect === UPDATE) {\n        // debugger\n        updateElement(fiber,true)\n    } else if(effect === ADD) {\n        insertElement(fiber)\n    } else if(effect === REPLACE) {\n        //\n    }\n\n    // update\n    setRef(ref,fiber.node)\n}\n\nfunction sameVnode(oldFiber,curFiber) {\n    if(oldFiber.type !== curFiber.type) return false\n    if(oldFiber.key !== curFiber.key) return false\n    return true\n}\n\nfunction buildKeyMap(children) {\n    let kidsKeyMap = {}\n    if(Array.isArray(children)) {\n        children.forEach((child,y) => {\n            if(Array.isArray(child)) {\n                child.forEach((c,y1) => {\n                    kidsKeyMap[keyMapKeyFactory(2,y1,c.key)] = c\n                })\n            }\n            kidsKeyMap[keyMapKeyFactory(1,y,child.key)] = child\n        })\n    } else kidsKeyMap[keyMapKeyFactory(0,0,children.key)] = children\n    return kidsKeyMap\n}\n\nfunction keyMapKeyFactory(x,y,key) {\n    if(y == null) throw('Error: not order y')\n    else if(key == null) {\n        return x + '.' + y\n    } else return x + '.' + y + '.' + key\n}\n\nfunction callEffect(state) {\n    const effect = state.effect\n    const clear = effect()\n    // 清理函数\n    if(isFn(clear)) state.clear = clear\n}\n\nfunction clearPrevEffect(state) {\n    const { clear } = state\n    clear && clear()\n}\n","import { h } from './h'\r\nimport { render } from './core/reconcile'\r\nimport {\r\n    useState,\r\n    useEffect,\r\n    useAction,\r\n    useRef,\r\n    useReducer,\r\n    useMemo,\r\n    useLayoutEffect,\r\n    useContext\r\n} from './hooks'\r\n\r\nconst limbo = {\r\n    render,\r\n    h,\r\n    createElement: h,\r\n    useState,\r\n    useEffect,\r\n    useAction,\r\n    useRef,\r\n    useReducer,\r\n    useMemo,\r\n    useLayoutEffect,\r\n    useContext\r\n}\r\n\r\nexport {\r\n    render,\r\n    h,\r\n    h as createElement,\r\n    useState,\r\n    useEffect,\r\n    useAction,\r\n    useRef,\r\n    useMemo,\r\n    useLayoutEffect,\r\n    useContext,\r\n    useReducer\r\n}\r\n\r\nexport default limbo"],"names":["Hook","shallowEqual"],"mappings":"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"}